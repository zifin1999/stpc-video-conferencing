<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Conferencing</title>
    <!-- Bootstrap CSS -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <!-- FontAwesome CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="css/style.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
</head>
<body id="top">
    <!-- Bootstrap NavBar -->
    <nav class="navbar navbar-expand-md navbar-dark bg-primary">
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <a class="navbar-brand" href="#">
            <span class="menu-collapsed">Smart Therapy PC</span>
        </a>
        <div class="collapse navbar-collapse" id="navbarNavDropdown">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link" href="index.html">
                        <i class="fas fa-home"></i> Home
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#top">
                        <i class="fas fa-comment-dots"></i> Chat
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#top">
                        <i class="fas fa-sign-out-alt"></i> Sign Out
                    </a>
                </li>
            </ul>
        </div>
    </nav><!-- NavBar END -->

    <!-- Bootstrap row -->
    <div class="row" id="body-row">
        <!-- Sidebar -->
        <div id="sidebar-container" class="sidebar-expanded d-none d-md-block">
            <!-- Bootstrap List Group -->
            <ul class="list-group">
                <!-- Menu with submenu -->
                <a href="index.html" class="bg-dark list-group-item list-group-item-action">
                    <div class="d-flex w-100 justify-content-start align-items-center">
                        <span class="fa fa-tachometer-alt fa-fw mr-3"></span>
                        <span class="menu-collapsed">Dashboard</span>
                    </div>
                </a>
                <!-- Separator with title -->
                <li class="list-group-item sidebar-separator-title text-muted d-flex align-items-center menu-collapsed">
                    <small>Video Conferencing</small>
                </li>
                <!-- /END Separator -->
                <a href="authorization.html" class="bg-dark list-group-item list-group-item-action">
                    <div class="d-flex w-100 justify-content-start align-items-center">
                        <span class="fa fa-lock fa-fw mr-3"></span>
                        <span class="menu-collapsed">Authorization</span>
                    </div>
                </a>
                <a href="consent-form.html" class="bg-dark list-group-item list-group-item-action">
                    <div class="d-flex w-100 justify-content-start align-items-center">
                        <span class="fa fa-handshake fa-fw mr-3"></span>
                        <span class="menu-collapsed">Consent Form</span>
                    </div>
                </a>
                <a href="intake-form.html" class="bg-dark list-group-item list-group-item-action">
                    <div class="d-flex w-100 justify-content-start align-items-center">
                        <span class="fa fa-file-alt fa-fw mr-3"></span>
                        <span class="menu-collapsed">Intake Form</span>
                    </div>
                </a>
                <a href="demographics.html" class="bg-dark list-group-item list-group-item-action">
                    <div class="d-flex w-100 justify-content-start align-items-center">
                        <span class="fa fa-file-alt fa-fw mr-3"></span>
                        <span class="menu-collapsed">Demographics</span>
                    </div>
                </a>
                <a href="client-logs.html" class="bg-dark list-group-item list-group-item-action">
                    <div class="d-flex w-100 justify-content-start align-items-center">
                        <span class="fa fa-list fa-fw mr-3"></span>
                        <span class="menu-collapsed">Client Logs</span>
                    </div>
                </a>
                <a href="waiting-room.html" class="bg-dark list-group-item list-group-item-action">
                    <div class="d-flex w-100 justify-content-start align-items-center">
                        <span class="fa fa-hourglass-half fa-fw mr-3"></span>
                        <span class="menu-collapsed">Waiting Room</span>
                    </div>
                </a>
                <a href="vid-session-client.html" class="bg-dark list-group-item list-group-item-action">
                    <div class="d-flex w-100 justify-content-start align-items-center">
                        <span class="fas fa-video fa-fw mr-3"></span> <!-- Updated to video camera icon -->
                        <span class="menu-collapsed">Video (Client)</span>
                    </div>
                </a>                
                <a href="therapist-screen-share.html" class="bg-dark list-group-item list-group-item-action">
                    <div class="d-flex w-100 justify-content-start align-items-center">
                        <span class="fas fa-desktop fa-fw mr-3"></span> <!-- Updated to video camera icon -->
                        <span class="menu-collapsed">Screen Share (Therapist)</span>
                    </div>
                </a>                
                <a href="video-session-tabs.html" class="bg-dark list-group-item list-group-item-action">
                    <div class="d-flex w-100 justify-content-start align-items-center">
                        <span class="fas fa-columns fa-fw mr-3"></span> <!-- Updated to video camera icon -->
                        <span class="menu-collapsed">Video Session Tabs</span>
                    </div>
                </a>                
                <a href="#top" data-toggle="sidebar-colapse" class="bg-dark list-group-item list-group-item-action d-flex align-items-center">
                    <div class="d-flex w-100 justify-content-start align-items-center">
                        <span id="collapse-icon" class="fa fa-2x mr-3"></span>
                        <span id="collapse-text" class="menu-collapsed">Collapse</span>
                    </div>
                </a>
            </ul><!-- List Group END-->
        </div><!-- sidebar-container END -->
        
    
        <div class="col p-4">
            <h1 class="display-4">Basic Form</h1>
            <p>The pages are separated for now because the UI has not been finalized but will be turned into a procedural layout once everything is in place.</p>
        
            <!-- Form for Adding/Updating/Saving details -->
            <form id="detailsForm">
                <div class="mb-3">
                    <label for="firstName" class="form-label">First Name</label>
                    <input type="text" class="form-control" id="firstName" placeholder="Enter First Name" disabled>
                </div>
                <div class="mb-3">
                    <label for="lastName" class="form-label">Last Name</label>
                    <input type="text" class="form-control" id="lastName" placeholder="Enter Last Name" disabled>
                </div>
                <div class="mb-3">
                    <label for="email" class="form-label">Email</label>
                    <input type="email" class="form-control" id="email" placeholder="Enter Email" disabled>
                </div>
                <div class="mb-3">
                    <label for="phone" class="form-label">Phone Number</label>
                    <input type="text" class="form-control" id="phone" placeholder="Enter Phone Number" disabled>
                </div>
        
                <!-- Buttons -->
                <button type="button" class="btn btn-warning" id="editBtn" onclick="toggleEdit()">Edit</button>
                <button type="button" class="btn btn-success" id="saveBtn" onclick="saveDetails()" disabled>Save</button>
            </form>
        </div>
        
        <script>
        // Load the data from localStorage if available
        document.addEventListener("DOMContentLoaded", function () {
            loadDetails();
        });
        
        // Enable input fields for editing
        function toggleEdit() {
            const fields = document.querySelectorAll("#detailsForm input");
            fields.forEach(field => field.disabled = false);
            document.getElementById('saveBtn').disabled = false;
            document.getElementById('editBtn').disabled = true;  // Disable Edit button while editing
        }
        
        // Save the details in localStorage and lock the input fields
        function saveDetails() {
            const firstName = document.getElementById('firstName').value;
            const lastName = document.getElementById('lastName').value;
            const email = document.getElementById('email').value;
            const phone = document.getElementById('phone').value;
        
            // Check if all fields are filled
            if (!firstName || !lastName || !email || !phone) {
                alert("Please fill in all fields.");
                return;
            }
        
            // Save details to local storage
            const userDetails = { firstName, lastName, email, phone };
            localStorage.setItem('userDetails', JSON.stringify(userDetails));
        
            // Disable input fields after saving
            const fields = document.querySelectorAll("#detailsForm input");
            fields.forEach(field => field.disabled = true);
        
            document.getElementById('saveBtn').disabled = true;
            document.getElementById('editBtn').disabled = false;  // Re-enable Edit button after saving
        
            alert("Details saved successfully.");
        }
        
        // Load details from localStorage and display in the form
        function loadDetails() {
            const savedDetails = JSON.parse(localStorage.getItem('userDetails'));
            
            if (savedDetails) {
                document.getElementById('firstName').value = savedDetails.firstName;
                document.getElementById('lastName').value = savedDetails.lastName;
                document.getElementById('email').value = savedDetails.email;
                document.getElementById('phone').value = savedDetails.phone;
        
                // Disable the fields since data is already loaded
                const fields = document.querySelectorAll("#detailsForm input");
                fields.forEach(field => field.disabled = true);
        
                document.getElementById('saveBtn').disabled = true;  // Save button is disabled after loading
            } else {
                // If no data is present in local storage, allow the user to edit
                document.getElementById('editBtn').disabled = false;
            }
        }
        </script>
            
    <!-- Bootstrap and jQuery scripts -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <!-- Custom JavaScript -->
    <script src="js/scripts.js"></script>
</body>
</html>
